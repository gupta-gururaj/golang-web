<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> 
    <style>
        table {
            width: 1250px;
            margin: auto;
            text-align: center;
            margin-top: 20px;
        }
    </style>
    <script>
        display(0)
        var pagenumber=1
        function previousPage() {
            var Table = document.getElementById("myTable");
            Table.innerHTML = "<thead><tr><th>#</th><th>Train No.</th><th>Train Name</th><th>Starts</th><th>Ends</th></tr>  </thead> <tbody>";
            pagenumber--
            display(pagenumber)
        }
        function nextPage() {
            var Table = document.getElementById("myTable");
            Table.innerHTML = "<thead><tr><th>#</th><th>Train No.</th><th>Train Name</th><th>Starts</th><th>Ends</th></tr>  </thead> <tbody>";
            pagenumber++
            display(pagenumber)
        }
        function display(pagenumber) {
            fetch('http://localhost:8000/limit/?page='+pagenumber)
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var table = document.getElementById("myTable");
            for (var i = 0; i < data.length; i++) {
                var row = table.insertRow(-1); //insert below
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);
                var cell5 = row.insertCell(4);
                cell1.innerHTML = data[i].id;
                cell2.innerHTML = data[i].number;
                cell3.innerHTML = data[i].tname;
                cell4.innerHTML = data[i].starts;
                cell5.innerHTML = data[i].ends;
            } 
        }
        }
    </script>
</head>
<body>
   <table border="1" cellspacing="auto" cellpadding="auto" id="myTable">
    <thead><tr><th>#</th><th>Train No.</th><th>Train Name</th><th>Starts</th><th>Ends</th></tr>  </thead> <tbody>
   </table>
   <div style="margin-top: 20px; margin-left: 730px;">
       <button onclick="previousPage()">Previous</button>
       <button onclick="nextPage()">Next</button>
   </div>
</body>
</html>
